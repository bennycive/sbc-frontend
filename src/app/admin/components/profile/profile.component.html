<div class="container py-5">
  <div class="row">
    <!-- LEFT SIDE: FORM -->
    <div class="col-md-8">
      <div class="card p-4 shadow-sm">
        <h5 class="mb-4 fw-bold">General information</h5>
        <div class="row g-3">
          <div class="col-md-4">
            <label class="form-label">Phone</label>
            <input class="form-control" [(ngModel)]="profile.phone_number" name="phone" type="tel"
              placeholder="+255 123 456 789" [readonly]="isReadonly">
          </div>
          <div class="col-md-4">
            <label class="form-label">Year of Study</label>
            <input class="form-control" [(ngModel)]="profile.yos" name="yos" type="number" placeholder="e.g. 2025"
              [readonly]="isReadonly">
          </div>
          <div class="col-md-4">
            <label class="form-label">Department</label>
            <input class="form-control" [(ngModel)]="profile.department" name="department" type="text"
              placeholder="Department ID" [readonly]="isReadonly">
          </div>
          <div class="col-md-6">
            <label class="form-label">Program</label>
            <input class="form-control" [(ngModel)]="profile.program" name="program" type="text" placeholder="Program"
              [readonly]="isReadonly">
          </div>
          <div class="col-md-6">
            <label class="form-label">NIDA</label>
            <input class="form-control" [(ngModel)]="profile.nida" name="nida" type="text" placeholder="National ID"
              [readonly]="isReadonly">
          </div>
        </div>

        <div class="mt-4 text-end">
          <button *ngIf="isReadonly" class="btn btn-primary px-4" (click)="enableEdit()">Update</button>
          <button *ngIf="!isReadonly" class="btn btn-success px-4" (click)="save()">Save All</button>
        </div>

      </div>
    </div>

    <!-- RIGHT SIDE: PROFILE CARD -->
    <div class="col-md-4 mt-4 mt-md-0">
      <div class="card shadow-sm p-3 text-center">
        <div class="position-relative d-flex justify-content-center">
          <img [src]="profile.image || 'assets/profile/default.png'" alt="Profile"
            class="rounded-circle border border-4 border-white shadow" width="120" height="120">
        </div>
        <h5 class="mt-3 text-capitalize">User ID: {{ profile.user }}</h5>
        <p class="text-muted mb-1">Phone: {{ profile.phone_number }}</p>
        <p class="text-muted">Dept: {{ profile.department }}</p>
      </div>

      <div class="card mt-3 p-3 shadow-sm">
        <label class="form-label fw-bold">Select profile photo</label>
        <input class="form-control" type="file" (change)="onFileSelected($event)" [disabled]="isReadonly">
        <small class="text-muted mt-1">JPG, GIF or PNG. Max size of 800K</small>
      </div>
    </div>
  </div>
</div>
